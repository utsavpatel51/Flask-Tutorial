{% macro input(name, label, value='', type='text') -%}
    <label for="{{ name }}" class="form-label">{{ label }}</label>
    <input type="{{ type }}" class="form-control {% if not errors[name] %}is-valid {% else %}is-invalid{% endif %}" name="{{ name }}" value="{{ form[name] }}" required>
    {% if errors[name] %}
        <div class="invalid-feedback">
            {{ errors[name] }}
        </div>
    {% endif %}
{%- endmacro %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <title>{{ title }}</title>
</head>
<body>
    <div class="py-5 text-center">
        <h2>{{ title }}</h2>
        <p class="lead">This form is used to demonstrate the differences between using server-side validation with async requests and sync requests.</p>
        <p>Time Taken to submit:- {{ _time }}sec</p>
    </div>
    <div class="container">
        <main>
            <div class="col-md-12 col-lg-12">
                <form class="row g-3 needs-validation" method="post" novalidate>
                    <div class="col-md-6">
                        {{ input('firstName', 'First Name') }}
                    </div>
                    <div class="col-md-6">
                        {{ input('lastName', 'Last Name') }}
                    </div>
                    <div class="col-md-12">
                        {{ input('email', 'Email') }}
                    </div>
                    <div class="col-md-12">
                        {{ input('city', 'City') }}
                    </div>
                    <div class="col-md-6">
                        {{ input('state', 'State') }}
                    </div>
                    <div class="col-md-6">
                        {{ input('zip', 'Zip Code') }}
                    </div>
                    <div class="col-12">
                        <button class="btn btn-primary" type="submit">Submit form</button>
                    </div>
                </form>
            </div>
            
        </main>
    </div>
</body>
</html>